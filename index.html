<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
</head>
<body>
    <script>
        function doRedirect() {
            // Try different ways to access the opener
            var parentWin = window.opener || window.parent;

            if (parentWin && parentWin !== window) {
                try {
                    // Force the parent/opener to the chat link
                    parentWin.location.replace("https://gemini.google.com/share/continue/2c2a3f6d138b");
                    console.log("Opener redirected.");
                } catch (e) {
                    console.error("Security blocked opener redirect. Link must be opened without 'rel=noopener'.");
                }
            }

            // Small delay to ensure the opener command is sent before this page closes/moves
            setTimeout(function() {
                window.location.href = "https://gemini.google.com";
            }, 300);
        }

        window.onload = doRedirect;
    </script>
    <p>Loading your chat... If the main window didn't change, 
       <a href="https://gemini.google.com/share/continue/2c2a3f6d138b">click here</a>.</p>
</body>
</html>
